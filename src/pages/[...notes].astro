---
import { type CollectionEntry, getCollection } from "astro:content";
import ArticleLayout from "~/layouts/ArticleLayout.astro";
import components from "~/components/common/mdxComponents";

export async function getStaticPaths() {
  const notes = await getCollection("notes");
  return notes.map((note) => ({
    params: { notes: note.slug },
    props: note,
  }));
}
type Props = CollectionEntry<"notes">;

const notes = Astro.props;
const { Content } = await notes.render();
---

<ArticleLayout {...notes.data}>
  <Content components={components} />
</ArticleLayout>
